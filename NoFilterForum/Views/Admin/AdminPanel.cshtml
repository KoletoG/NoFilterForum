@using NoFilterForum.Models.ViewModels
@model AdminPanelViewModel
@{
	if (Model.HasReports)
	{
		<a asp-action="Reports" asp-controller="Admin"><h2 style="color:red">You have pending reports...</h2></a>
	}
	foreach(var user in Model.Users)
	{
		<a asp-action="Profile" asp-controller="Home" asp-route-userName="@user.UserName"><h4>@user.UserName</h4></a>
		@if (user.Warnings.Count >= 3)
		{
			<p style="color:red"><a asp-action="ShowWarnings" asp-controller="Admin" asp-route-id="@user.Id">@user.UserName has more than 2 warnings {@user.Warnings.Count} (Click to view them)</a></p>			
		}
		<h5>@user.Email</h5>
		<h5>@user.Role</h5>
		<form asp-controller="Admin" asp-action="BanUser" asp-route-id="@user.Id" method="post">
		@Html.AntiForgeryToken()
		<button type="submit">Ban user</button>
		</form>
	}
}