@using NoFilterForum.Models.ViewModels
@model IndexViewModel
@{
    ViewData["Title"] = "Home Page";
}
@{
    if (Model.Warnings.Count > 1)
    {
        <h3 style="color:red; font-weight:bold">You have been given couple warnings with the messages:</h3>
    }
    else if(Model.Warnings.Count==1)
    {
        <h3 style="color:red; font-weight:bold">You have been given a warning with the message:</h3>
    }
    for(int i =0;i<Model.Warnings.Count;i++)
    {
        <h4 style="color:red">Warning @(i + 1): <br /> @Model.Warnings[i].Content</h4>

    }
    if (Model.Warnings.Count > 0)
    {
        <form asp-action="AcceptWarnings" asp-controller="Home" method="post">
            @Html.AntiForgeryToken()
            <button type="submit">I understand</button>
        </form>
    }
}
@{
    if (Model.IsAdmin)
    {
        <form asp-action="CreateSection" asp-controller="Home" method="post">
            @Html.AntiForgeryToken()
            <input name="title" placeholder="Title of the section" type="text" />
            <input name="description" placeholder="Description of the section" type="text" />
            <button type="submit">Create Section</button>
        </form>
    }
    foreach(var section1 in Model.Sections)
    {
        <a asp-action="PostsMain" asp-route-title="@section1.Title"><h2>@section1.Title</h2></a>
        <h4>@section1.Description</h4>
        if (Model.IsAdmin)
        {
        <form asp-action="DeleteSection" asp-route-id="@section1.Id" method="post">
        @Html.AntiForgeryToken()
            <button type="submit">Delete Section</button>
        </form>
        }
    }
}